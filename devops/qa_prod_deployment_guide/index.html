
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../dump_restore_clean/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>QA-PROD - DhanMan</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
    
      <link rel="stylesheet" href="../../extra.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#dhanman-deployment-setup-guide-qa-and-prod" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DhanMan" class="md-header__button md-logo" aria-label="DhanMan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DhanMan
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              QA-PROD
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DhanMan" class="md-nav__button md-logo" aria-label="DhanMan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DhanMan
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting/introduction.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accounting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sytem Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sytem Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/dhanman_sales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sales
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/budgeting_system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Budgeting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/water_tanker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Water Tanker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/rabbitmq_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RabbitMQ Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/messging_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Messging Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/MinIO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MinIO Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/mkdocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MKDocs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Permissions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Permissions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../system_overview/common.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../permissions/sales.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sales
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Accounting Entries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Accounting Entries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/purchase_transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Purchase Transactions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/sales_transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sales Transactions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/payroll_transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Payroll Transactions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/entries_others/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Entries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/entries_samples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample Entries
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Financial Reports
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Financial Reports
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/ledger_of_customers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ledger of Customers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/ledger_of_vendors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ledger of Vendors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/trial_balance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trial Balance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/balance_sheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Balance Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/profit_and_loss_statement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profit and Loss Statement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/cash_flow_statement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cash Flow Statement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/accounts_receivable_aging_report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accounts Receivable Aging Report
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/accounts%20_payable_aging_report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accounts Payable Aging Report
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/pending_dues_report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pending Dues Report
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Payroll
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Payroll
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../payroll/sample_templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample Templates
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/office_etiquette_policy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Office Etiquette Policy
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Coding Conventions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Coding Conventions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_conventions/cc_principle_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backend
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How Tos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            How Tos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/email_templates.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Email Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/app-ui-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    App UI Structure
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" checked>
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Devops
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Devops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../qa_deployment_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DigitalOcen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dump_restore_clean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Backup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    QA-PROD
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    QA-PROD
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-github-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. GitHub Environment Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. GitHub Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-create-environments" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Create Environments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-define-environment-secrets-per-environment" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Define Environment Secrets (per environment)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-github-actions-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      2. GitHub Actions Workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. GitHub Actions Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-qa-auto-deployment-triggered-on-merge-to-main" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 QA Auto Deployment (triggered on merge to main)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-prod-manual-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 PROD Manual Deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-digitalocean-setup" class="md-nav__link">
    <span class="md-ellipsis">
      3. DigitalOcean Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. DigitalOcean Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-ssh-key-generation" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 SSH Key Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-create-folder-structure-and-env-files" class="md-nav__link">
    <span class="md-ellipsis">
      📁 3.2 Create Folder Structure and .env Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📁 3.2 Create Folder Structure and .env Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-qa-prod-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Create QA &amp; PROD Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-add-env-files" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Add .env Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Add .env Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qa-linux" class="md-nav__link">
    <span class="md-ellipsis">
      QA (Linux):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qa-windows-powershell-equivalent" class="md-nav__link">
    <span class="md-ellipsis">
      QA (Windows PowerShell Equivalent):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prod-linux" class="md-nav__link">
    <span class="md-ellipsis">
      PROD (Linux):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prod-windows-powershell-equivalent" class="md-nav__link">
    <span class="md-ellipsis">
      PROD (Windows PowerShell Equivalent):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-create-systemd-services" class="md-nav__link">
    <span class="md-ellipsis">
      ⚙️ 3.3 Create systemd Services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="⚙️ 3.3 Create systemd Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qa-service" class="md-nav__link">
    <span class="md-ellipsis">
      QA Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prod-service" class="md-nav__link">
    <span class="md-ellipsis">
      PROD Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-start-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Enable &amp; Start (Linux):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-nginx-reverse-proxy-setup" class="md-nav__link">
    <span class="md-ellipsis">
      🌐 3.4 NGINX Reverse Proxy Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🌐 3.4 NGINX Reverse Proxy Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qa-subdomain-config-linux" class="md-nav__link">
    <span class="md-ellipsis">
      QA Subdomain Config (Linux)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-test-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Enable &amp; Test (Linux)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-certbot-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      🔐 3.5 Certbot SSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🔐 3.5 Certbot SSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-certbot" class="md-nav__link">
    <span class="md-ellipsis">
      Install Certbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      Generate SSL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-commands-tips" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Troubleshooting Commands &amp; Tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🔧 Troubleshooting Commands &amp; Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-systemd-service-logs" class="md-nav__link">
    <span class="md-ellipsis">
      🔍 Check Systemd Service Logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart-or-enable-systemd-service" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Restart or Enable Systemd Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-nginx-configuration-reload" class="md-nav__link">
    <span class="md-ellipsis">
      🧪 Check NGINX Configuration &amp; Reload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-app-on-localhost" class="md-nav__link">
    <span class="md-ellipsis">
      🌐 Test App on Localhost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      🔐 Check Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-which-port-app-is-running-on" class="md-nav__link">
    <span class="md-ellipsis">
      🔎 Check Which Port App is Running On
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-if-nginx-is-listening-to-domain" class="md-nav__link">
    <span class="md-ellipsis">
      🔁 Check If NGINX is Listening to Domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-duplicate-server_name-entries" class="md-nav__link">
    <span class="md-ellipsis">
      📁 Remove Duplicate server_name Entries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-push-blocked-by-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      ❌ GitHub Push Blocked by Secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-github-environment-setup" class="md-nav__link">
    <span class="md-ellipsis">
      1. GitHub Environment Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. GitHub Environment Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-create-environments" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 Create Environments
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-define-environment-secrets-per-environment" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 Define Environment Secrets (per environment)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-github-actions-workflow" class="md-nav__link">
    <span class="md-ellipsis">
      2. GitHub Actions Workflow
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. GitHub Actions Workflow">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-qa-auto-deployment-triggered-on-merge-to-main" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 QA Auto Deployment (triggered on merge to main)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-prod-manual-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 PROD Manual Deployment
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-digitalocean-setup" class="md-nav__link">
    <span class="md-ellipsis">
      3. DigitalOcean Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. DigitalOcean Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-ssh-key-generation" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 SSH Key Generation
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-create-folder-structure-and-env-files" class="md-nav__link">
    <span class="md-ellipsis">
      📁 3.2 Create Folder Structure and .env Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="📁 3.2 Create Folder Structure and .env Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-qa-prod-directories" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Create QA &amp; PROD Directories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-add-env-files" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Add .env Files
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 2: Add .env Files">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qa-linux" class="md-nav__link">
    <span class="md-ellipsis">
      QA (Linux):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#qa-windows-powershell-equivalent" class="md-nav__link">
    <span class="md-ellipsis">
      QA (Windows PowerShell Equivalent):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prod-linux" class="md-nav__link">
    <span class="md-ellipsis">
      PROD (Linux):
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prod-windows-powershell-equivalent" class="md-nav__link">
    <span class="md-ellipsis">
      PROD (Windows PowerShell Equivalent):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-create-systemd-services" class="md-nav__link">
    <span class="md-ellipsis">
      ⚙️ 3.3 Create systemd Services
    </span>
  </a>
  
    <nav class="md-nav" aria-label="⚙️ 3.3 Create systemd Services">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qa-service" class="md-nav__link">
    <span class="md-ellipsis">
      QA Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prod-service" class="md-nav__link">
    <span class="md-ellipsis">
      PROD Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-start-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Enable &amp; Start (Linux):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-nginx-reverse-proxy-setup" class="md-nav__link">
    <span class="md-ellipsis">
      🌐 3.4 NGINX Reverse Proxy Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🌐 3.4 NGINX Reverse Proxy Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#qa-subdomain-config-linux" class="md-nav__link">
    <span class="md-ellipsis">
      QA Subdomain Config (Linux)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-test-linux" class="md-nav__link">
    <span class="md-ellipsis">
      Enable &amp; Test (Linux)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-certbot-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      🔐 3.5 Certbot SSL
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🔐 3.5 Certbot SSL">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-certbot" class="md-nav__link">
    <span class="md-ellipsis">
      Install Certbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-ssl" class="md-nav__link">
    <span class="md-ellipsis">
      Generate SSL
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting-commands-tips" class="md-nav__link">
    <span class="md-ellipsis">
      🔧 Troubleshooting Commands &amp; Tips
    </span>
  </a>
  
    <nav class="md-nav" aria-label="🔧 Troubleshooting Commands &amp; Tips">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#check-systemd-service-logs" class="md-nav__link">
    <span class="md-ellipsis">
      🔍 Check Systemd Service Logs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restart-or-enable-systemd-service" class="md-nav__link">
    <span class="md-ellipsis">
      🚀 Restart or Enable Systemd Service
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-nginx-configuration-reload" class="md-nav__link">
    <span class="md-ellipsis">
      🧪 Check NGINX Configuration &amp; Reload
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-app-on-localhost" class="md-nav__link">
    <span class="md-ellipsis">
      🌐 Test App on Localhost
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      🔐 Check Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-which-port-app-is-running-on" class="md-nav__link">
    <span class="md-ellipsis">
      🔎 Check Which Port App is Running On
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-if-nginx-is-listening-to-domain" class="md-nav__link">
    <span class="md-ellipsis">
      🔁 Check If NGINX is Listening to Domain
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remove-duplicate-server_name-entries" class="md-nav__link">
    <span class="md-ellipsis">
      📁 Remove Duplicate server_name Entries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#github-push-blocked-by-secrets" class="md-nav__link">
    <span class="md-ellipsis">
      ❌ GitHub Push Blocked by Secrets
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="dhanman-deployment-setup-guide-qa-and-prod">Dhanman Deployment Setup Guide (QA and PROD)<a class="headerlink" href="#dhanman-deployment-setup-guide-qa-and-prod" title="Permanent link">&para;</a></h1>
<p>This document outlines the <strong>complete step-by-step deployment process</strong> used to deploy Dhanman microservices to <strong>DigitalOcean</strong>, using <strong>GitHub Actions</strong>, <strong>environment-specific secrets</strong>, <strong>NGINX</strong>, and <strong>SSL via Certbot</strong>.</p>
<hr />
<h2 id="1-github-environment-setup">1. GitHub Environment Setup<a class="headerlink" href="#1-github-environment-setup" title="Permanent link">&para;</a></h2>
<h3 id="11-create-environments">1.1 Create Environments<a class="headerlink" href="#11-create-environments" title="Permanent link">&para;</a></h3>
<ul>
<li>Go to your GitHub repository.</li>
<li>Click on <strong>Settings &gt; Environments</strong>.</li>
<li>Create two environments:</li>
<li><code>qa</code></li>
<li><code>prod</code></li>
</ul>
<h3 id="12-define-environment-secrets-per-environment">1.2 Define Environment Secrets (per environment)<a class="headerlink" href="#12-define-environment-secrets-per-environment" title="Permanent link">&para;</a></h3>
<p>Go to <strong>Settings &gt; Environments &gt; qa/prod &gt; Add Secret</strong>:</p>
<ul>
<li><code>COMMUNITY_DB_CONNECTION</code> – Full PostgreSQL connection string</li>
<li><code>PERMISSIONS_DB_CONNECTION</code> – Full PostgreSQL connection string</li>
<li><code>DO_HOST</code> – Droplet IP or DNS</li>
<li><code>DO_USER</code> – Droplet SSH user (<code>root</code> or other)</li>
<li><code>DO_SSH_KEY</code> – Private SSH key content</li>
</ul>
<hr />
<h2 id="2-github-actions-workflow">2. GitHub Actions Workflow<a class="headerlink" href="#2-github-actions-workflow" title="Permanent link">&para;</a></h2>
<h3 id="21-qa-auto-deployment-triggered-on-merge-to-main">2.1 QA Auto Deployment (triggered on merge to main)<a class="headerlink" href="#21-qa-auto-deployment-triggered-on-merge-to-main" title="Permanent link">&para;</a></h3>
<p>Create the file <code>.github/workflows/deploy-qa.yml</code> with:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy to QA</span>

<span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">push</span><span class="p">:</span>
<span class="w">    </span><span class="nt">branches</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">main</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qa</span>

<span class="w">    </span><span class="nt">env</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ConnectionStrings__CommunityDb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.COMMUNITY_DB_CONNECTION }}</span>
<span class="w">      </span><span class="nt">ConnectionStrings__PermissionsDb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.PERMISSIONS_DB_CONNECTION }}</span>
<span class="w">      </span><span class="nt">DOTNET_ENVIRONMENT</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">qa</span>

<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Set up .NET</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-dotnet@v3</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">dotnet-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;8.0.x&#39;</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Publish App</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">dotnet publish src/Dhanman.MyHome.Api/Dhanman.MyHome.Api.csproj -c Release -r linux-x64 --self-contained false -o publish</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload to QA Droplet</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">appleboy/scp-action@v0.1.4</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_HOST }}</span>
<span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_USER }}</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_SSH_KEY }}</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;publish/*&quot;</span>
<span class="w">          </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/var/www/qa/dhanman-community&quot;</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Restart QA App</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">appleboy/ssh-action@v0.1.10</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_HOST }}</span>
<span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_USER }}</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_SSH_KEY }}</span>
<span class="w">          </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">export ConnectionStrings__CommunityDb=&quot;${{ secrets.COMMUNITY_DB_CONNECTION }}&quot;</span>
<span class="w">            </span><span class="no">export ConnectionStrings__PermissionsDb=&quot;${{ secrets.PERMISSIONS_DB_CONNECTION }}&quot;</span>
<span class="w">            </span><span class="no">export DOTNET_ENVIRONMENT=qa</span>
<span class="w">            </span><span class="no">sudo systemctl restart dhanman-community-qa</span>
<span class="w">            </span><span class="no">sudo systemctl status dhanman-community-qa --no-pager</span>
</code></pre></div>

<h3 id="22-prod-manual-deployment">2.2 PROD Manual Deployment<a class="headerlink" href="#22-prod-manual-deployment" title="Permanent link">&para;</a></h3>
<p>Create the file <code>.github/workflows/deploy-prod.yml</code> with:</p>
<div class="codehilite"><pre><span></span><code><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Deploy to PROD</span>

<span class="nt">on</span><span class="p">:</span>
<span class="w">  </span><span class="nt">workflow_dispatch</span><span class="p">:</span>

<span class="nt">jobs</span><span class="p">:</span>
<span class="w">  </span><span class="nt">deploy</span><span class="p">:</span>
<span class="w">    </span><span class="nt">runs-on</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ubuntu-latest</span>
<span class="w">    </span><span class="nt">environment</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">prod</span>

<span class="w">    </span><span class="nt">env</span><span class="p">:</span>
<span class="w">      </span><span class="nt">ConnectionStrings__CommunityDb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.COMMUNITY_DB_CONNECTION }}</span>
<span class="w">      </span><span class="nt">ConnectionStrings__PermissionsDb</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.PERMISSIONS_DB_CONNECTION }}</span>
<span class="w">      </span><span class="nt">DOTNET_ENVIRONMENT</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">production</span>

<span class="w">    </span><span class="nt">steps</span><span class="p">:</span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Checkout</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/checkout@v3</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Set up .NET</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">actions/setup-dotnet@v3</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">dotnet-version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;8.0.x&#39;</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Publish App</span>
<span class="w">        </span><span class="nt">run</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">          </span><span class="no">dotnet publish src/Dhanman.MyHome.Api/Dhanman.MyHome.Api.csproj -c Release -r linux-x64 --self-contained false -o publish</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Upload to PROD Droplet</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">appleboy/scp-action@v0.1.4</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_HOST }}</span>
<span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_USER }}</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_SSH_KEY }}</span>
<span class="w">          </span><span class="nt">source</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;publish/*&quot;</span>
<span class="w">          </span><span class="nt">target</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;/var/www/prod/dhanman-community&quot;</span>

<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Restart PROD App</span>
<span class="w">        </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">appleboy/ssh-action@v0.1.10</span>
<span class="w">        </span><span class="nt">with</span><span class="p">:</span>
<span class="w">          </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_HOST }}</span>
<span class="w">          </span><span class="nt">username</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_USER }}</span>
<span class="w">          </span><span class="nt">key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${{ secrets.DO_SSH_KEY }}</span>
<span class="w">          </span><span class="nt">script</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">|</span>
<span class="w">            </span><span class="no">export ConnectionStrings__CommunityDb=&quot;${{ secrets.COMMUNITY_DB_CONNECTION }}&quot;</span>
<span class="w">            </span><span class="no">export ConnectionStrings__PermissionsDb=&quot;${{ secrets.PERMISSIONS_DB_CONNECTION }}&quot;</span>
<span class="w">            </span><span class="no">export DOTNET_ENVIRONMENT=production</span>
<span class="w">            </span><span class="no">sudo systemctl restart dhanman-community-prod</span>
<span class="w">            </span><span class="no">sudo systemctl status dhanman-community-prod --no-pager</span>
</code></pre></div>

<hr />
<h2 id="3-digitalocean-setup">3. DigitalOcean Setup<a class="headerlink" href="#3-digitalocean-setup" title="Permanent link">&para;</a></h2>
<h3 id="31-ssh-key-generation">3.1 SSH Key Generation<a class="headerlink" href="#31-ssh-key-generation" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>ssh-keygen<span class="w"> </span>-t<span class="w"> </span>rsa<span class="w"> </span>-b<span class="w"> </span><span class="m">4096</span><span class="w"> </span>-C<span class="w"> </span><span class="s2">&quot;your_email@example.com&quot;</span>
cat<span class="w"> </span>~/.ssh/id_rsa.pub
</code></pre></div>

<h3 id="32-create-folder-structure-and-env-files">📁 3.2 Create Folder Structure and .env Files<a class="headerlink" href="#32-create-folder-structure-and-env-files" title="Permanent link">&para;</a></h3>
<blockquote>
<p>✅ Run these <strong>on your DigitalOcean droplet</strong> via SSH</p>
</blockquote>
<h4 id="step-1-create-qa-prod-directories">Step 1: Create QA &amp; PROD Directories<a class="headerlink" href="#step-1-create-qa-prod-directories" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/qa/dhanman-community
sudo<span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>/var/www/prod/dhanman-community
</code></pre></div>

<h4 id="step-2-add-env-files">Step 2: Add <code>.env</code> Files<a class="headerlink" href="#step-2-add-env-files" title="Permanent link">&para;</a></h4>
<h5 id="qa-linux">QA (Linux):<a class="headerlink" href="#qa-linux" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;DOTNET_ENVIRONMENT=qa&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/var/www/qa/dhanman-community/.env
sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/var/www/qa/dhanman-community/.env<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="s">&lt;&lt;EOL</span>
<span class="s">ASPNETCORE_URLS=http://127.0.0.1:5205</span>
<span class="s">ConnectionStrings__CommunityDb=&lt;QA_COMMUNITY_DB_CONNECTION&gt;</span>
<span class="s">ConnectionStrings__PermissionsDb=&lt;QA_PERMISSIONS_DB_CONNECTION&gt;</span>
<span class="s">EOL</span>
</code></pre></div>

<h5 id="qa-windows-powershell-equivalent">QA (Windows PowerShell Equivalent):<a class="headerlink" href="#qa-windows-powershell-equivalent" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="nv">$envPath</span> <span class="p">=</span> <span class="s2">&quot;/var/www/qa/dhanman-community/.env&quot;</span>
<span class="nv">$qaEnv</span> <span class="p">=</span> <span class="sh">@&quot;</span>
<span class="sh">DOTNET_ENVIRONMENT=qa</span>
<span class="sh">ASPNETCORE_URLS=http://127.0.0.1:5205</span>
<span class="sh">ConnectionStrings__CommunityDb=&lt;QA_COMMUNITY_DB_CONNECTION&gt;</span>
<span class="sh">ConnectionStrings__PermissionsDb=&lt;QA_PERMISSIONS_DB_CONNECTION&gt;</span>
<span class="sh">&quot;@</span>
<span class="n">ssh</span> <span class="n">root</span><span class="p">@&lt;</span><span class="n">droplet_ip</span><span class="p">&gt;</span> <span class="s2">&quot;echo &#39;$qaEnv&#39; &gt; $envPath&quot;</span>
</code></pre></div>

<h5 id="prod-linux">PROD (Linux):<a class="headerlink" href="#prod-linux" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;DOTNET_ENVIRONMENT=production&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>tee<span class="w"> </span>/var/www/prod/dhanman-community/.env
sudo<span class="w"> </span>tee<span class="w"> </span>-a<span class="w"> </span>/var/www/prod/dhanman-community/.env<span class="w"> </span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="s">&lt;&lt;EOL</span>
<span class="s">ASPNETCORE_URLS=http://127.0.0.1:5205</span>
<span class="s">ConnectionStrings__CommunityDb=&lt;PROD_COMMUNITY_DB_CONNECTION&gt;</span>
<span class="s">ConnectionStrings__PermissionsDb=&lt;PROD_PERMISSIONS_DB_CONNECTION&gt;</span>
<span class="s">EOL</span>
</code></pre></div>

<h5 id="prod-windows-powershell-equivalent">PROD (Windows PowerShell Equivalent):<a class="headerlink" href="#prod-windows-powershell-equivalent" title="Permanent link">&para;</a></h5>
<div class="codehilite"><pre><span></span><code><span class="nv">$envPath</span> <span class="p">=</span> <span class="s2">&quot;/var/www/prod/dhanman-community/.env&quot;</span>
<span class="nv">$prodEnv</span> <span class="p">=</span> <span class="sh">@&quot;</span>
<span class="sh">DOTNET_ENVIRONMENT=production</span>
<span class="sh">ASPNETCORE_URLS=http://127.0.0.1:5205</span>
<span class="sh">ConnectionStrings__CommunityDb=&lt;PROD_COMMUNITY_DB_CONNECTION&gt;</span>
<span class="sh">ConnectionStrings__PermissionsDb=&lt;PROD_PERMISSIONS_DB_CONNECTION&gt;</span>
<span class="sh">&quot;@</span>
<span class="n">ssh</span> <span class="n">root</span><span class="p">@&lt;</span><span class="n">droplet_ip</span><span class="p">&gt;</span> <span class="s2">&quot;echo &#39;$prodEnv&#39; &gt; $envPath&quot;</span>
</code></pre></div>

<hr />
<h3 id="33-create-systemd-services">⚙️ 3.3 Create <code>systemd</code> Services<a class="headerlink" href="#33-create-systemd-services" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Run this <strong>on your DigitalOcean droplet</strong> via SSH</p>
</blockquote>
<h4 id="qa-service">QA Service<a class="headerlink" href="#qa-service" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/systemd/system/dhanman-community-qa.service
</code></pre></div>

<p>Paste:</p>
<div class="codehilite"><pre><span></span><code><span class="k">[Unit]</span>
<span class="na">Description</span><span class="o">=</span><span class="s">Dhanman Community QA Service</span>
<span class="na">After</span><span class="o">=</span><span class="s">network.target</span>

<span class="k">[Service]</span>
<span class="na">WorkingDirectory</span><span class="o">=</span><span class="s">/var/www/qa/dhanman-community</span>
<span class="na">ExecStart</span><span class="o">=</span><span class="s">/usr/bin/dotnet /var/www/qa/dhanman-community/Dhanman.MyHome.Api.dll</span>
<span class="na">Restart</span><span class="o">=</span><span class="s">always</span>
<span class="na">RestartSec</span><span class="o">=</span><span class="s">10</span>
<span class="na">KillSignal</span><span class="o">=</span><span class="s">SIGINT</span>
<span class="na">SyslogIdentifier</span><span class="o">=</span><span class="s">dhanman-community-qa</span>
<span class="na">User</span><span class="o">=</span><span class="s">www-data</span>
<span class="na">EnvironmentFile</span><span class="o">=</span><span class="s">/var/www/qa/dhanman-community/.env</span>

<span class="k">[Install]</span>
<span class="na">WantedBy</span><span class="o">=</span><span class="s">multi-user.target</span>
</code></pre></div>

<h4 id="prod-service">PROD Service<a class="headerlink" href="#prod-service" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/systemd/system/dhanman-community-prod.service
</code></pre></div>

<p>Repeat with path changes.</p>
<h4 id="enable-start-linux">Enable &amp; Start (Linux):<a class="headerlink" href="#enable-start-linux" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>dhanman-community-qa
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>dhanman-community-qa
sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>dhanman-community-prod
sudo<span class="w"> </span>systemctl<span class="w"> </span>start<span class="w"> </span>dhanman-community-prod
</code></pre></div>

<hr />
<h3 id="34-nginx-reverse-proxy-setup">🌐 3.4 NGINX Reverse Proxy Setup<a class="headerlink" href="#34-nginx-reverse-proxy-setup" title="Permanent link">&para;</a></h3>
<h4 id="qa-subdomain-config-linux">QA Subdomain Config (Linux)<a class="headerlink" href="#qa-subdomain-config-linux" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>nano<span class="w"> </span>/etc/nginx/sites-available/qa.community.dhanman.com
</code></pre></div>

<p>Paste:</p>
<div class="codehilite"><pre><span></span><code><span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">80</span><span class="p">;</span>
<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">qa.community.dhanman.com</span><span class="p">;</span>
<span class="w">    </span><span class="kn">return</span><span class="w"> </span><span class="mi">301</span><span class="w"> </span><span class="s">https://</span><span class="nv">$host$request_uri</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kn">listen</span><span class="w"> </span><span class="mi">443</span><span class="w"> </span><span class="s">ssl</span><span class="p">;</span>
<span class="w">    </span><span class="kn">server_name</span><span class="w"> </span><span class="s">qa.community.dhanman.com</span><span class="p">;</span>

<span class="w">    </span><span class="kn">ssl_certificate</span><span class="w"> </span><span class="s">/etc/letsencrypt/live/qa.community.dhanman.com/fullchain.pem</span><span class="p">;</span>
<span class="w">    </span><span class="kn">ssl_certificate_key</span><span class="w"> </span><span class="s">/etc/letsencrypt/live/qa.community.dhanman.com/privkey.pem</span><span class="p">;</span>
<span class="w">    </span><span class="kn">include</span><span class="w"> </span><span class="s">/etc/letsencrypt/options-ssl-nginx.conf</span><span class="p">;</span>
<span class="w">    </span><span class="kn">ssl_dhparam</span><span class="w"> </span><span class="s">/etc/letsencrypt/ssl-dhparams.pem</span><span class="p">;</span>

<span class="w">    </span><span class="kn">location</span><span class="w"> </span><span class="s">/</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kn">proxy_pass</span><span class="w"> </span><span class="s">http://127.0.0.1:5205</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_http_version</span><span class="w"> </span><span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Upgrade</span><span class="w"> </span><span class="nv">$http_upgrade</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Connection</span><span class="w"> </span><span class="s">keep-alive</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_set_header</span><span class="w"> </span><span class="s">Host</span><span class="w"> </span><span class="nv">$host</span><span class="p">;</span>
<span class="w">        </span><span class="kn">proxy_cache_bypass</span><span class="w"> </span><span class="nv">$http_upgrade</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h4 id="enable-test-linux">Enable &amp; Test (Linux)<a class="headerlink" href="#enable-test-linux" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>ln<span class="w"> </span>-s<span class="w"> </span>/etc/nginx/sites-available/qa.community.dhanman.com<span class="w"> </span>/etc/nginx/sites-enabled/
sudo<span class="w"> </span>nginx<span class="w"> </span>-t
sudo<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>nginx
</code></pre></div>

<hr />
<h3 id="35-certbot-ssl">🔐 3.5 Certbot SSL<a class="headerlink" href="#35-certbot-ssl" title="Permanent link">&para;</a></h3>
<h4 id="install-certbot">Install Certbot<a class="headerlink" href="#install-certbot" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>certbot<span class="w"> </span>python3-certbot-nginx
</code></pre></div>

<h4 id="generate-ssl">Generate SSL<a class="headerlink" href="#generate-ssl" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>certbot<span class="w"> </span>--nginx<span class="w"> </span>-d<span class="w"> </span>qa.community.dhanman.com
sudo<span class="w"> </span>certbot<span class="w"> </span>--nginx<span class="w"> </span>-d<span class="w"> </span>prod.community.dhanman.com
</code></pre></div>

<hr />
<p>You're now set up to run multiple services in both QA and PROD environments with automated and manual GitHub deployments, process supervision via systemd, reverse proxy via NGINX, and SSL via Certbot.</p>
<hr />
<h2 id="troubleshooting-commands-tips">🔧 Troubleshooting Commands &amp; Tips<a class="headerlink" href="#troubleshooting-commands-tips" title="Permanent link">&para;</a></h2>
<h3 id="check-systemd-service-logs">🔍 Check Systemd Service Logs<a class="headerlink" href="#check-systemd-service-logs" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>status<span class="w"> </span>dhanman-community-qa.service
sudo<span class="w"> </span>journalctl<span class="w"> </span>-u<span class="w"> </span>dhanman-community-qa.service<span class="w"> </span>-n<span class="w"> </span><span class="m">50</span><span class="w">   </span><span class="c1"># Last 50 logs</span>
</code></pre></div>

<h3 id="restart-or-enable-systemd-service">🚀 Restart or Enable Systemd Service<a class="headerlink" href="#restart-or-enable-systemd-service" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reexec
sudo<span class="w"> </span>systemctl<span class="w"> </span>daemon-reload
sudo<span class="w"> </span>systemctl<span class="w"> </span>restart<span class="w"> </span>dhanman-community-qa.service
sudo<span class="w"> </span>systemctl<span class="w"> </span><span class="nb">enable</span><span class="w"> </span>dhanman-community-qa.service
</code></pre></div>

<h3 id="check-nginx-configuration-reload">🧪 Check NGINX Configuration &amp; Reload<a class="headerlink" href="#check-nginx-configuration-reload" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>nginx<span class="w"> </span>-t<span class="w">                       </span><span class="c1"># Test config</span>
sudo<span class="w"> </span>systemctl<span class="w"> </span>reload<span class="w"> </span>nginx<span class="w">        </span><span class="c1"># Reload after changes</span>
</code></pre></div>

<h3 id="test-app-on-localhost">🌐 Test App on Localhost<a class="headerlink" href="#test-app-on-localhost" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>curl<span class="w"> </span>http://127.0.0.1:&lt;port&gt;<span class="w">       </span><span class="c1"># Example: curl http://127.0.0.1:5205</span>
</code></pre></div>

<h3 id="check-environment-variables">🔐 Check Environment Variables<a class="headerlink" href="#check-environment-variables" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="nv">$ConnectionStrings__CommunityDb</span>
cat<span class="w"> </span>/proc/<span class="k">$(</span>pgrep<span class="w"> </span>-f<span class="w"> </span><span class="s1">&#39;Dhanman.MyHome.Api&#39;</span><span class="k">)</span>/environ<span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39;\0&#39;</span><span class="w"> </span><span class="s1">&#39;\n&#39;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>ConnectionStrings
</code></pre></div>

<h3 id="check-which-port-app-is-running-on">🔎 Check Which Port App is Running On<a class="headerlink" href="#check-which-port-app-is-running-on" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>netstat<span class="w"> </span>-tuln<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>LISTEN
</code></pre></div>

<h3 id="check-if-nginx-is-listening-to-domain">🔁 Check If NGINX is Listening to Domain<a class="headerlink" href="#check-if-nginx-is-listening-to-domain" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>sudo<span class="w"> </span>nginx<span class="w"> </span>-T<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>server_name
</code></pre></div>

<h3 id="remove-duplicate-server_name-entries">📁 Remove Duplicate <code>server_name</code> Entries<a class="headerlink" href="#remove-duplicate-server_name-entries" title="Permanent link">&para;</a></h3>
<p>Use <code>grep</code> to find duplicates:</p>
<div class="codehilite"><pre><span></span><code>grep<span class="w"> </span>-r<span class="w"> </span><span class="s2">&quot;server_name&quot;</span><span class="w"> </span>/etc/nginx/sites-available/
</code></pre></div>

<p>Manually remove extras from unused or backup config files.</p>
<h3 id="github-push-blocked-by-secrets">❌ GitHub Push Blocked by Secrets<a class="headerlink" href="#github-push-blocked-by-secrets" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Remove secrets from committed files</span>
<span class="c1"># OR use the GitHub UI to allow the secret push temporarily:</span>
https://github.com/&lt;org&gt;/&lt;repo&gt;/security/secret-scanning/unblock-secret/
</code></pre></div>

<blockquote>
<p>Always ensure your <code>.env</code> file and secrets are not committed to GitHub!</p>
</blockquote>
<hr />
<p>✅ With these tools and steps, you can confidently manage QA and PROD environments hosted on DigitalOcean with secure, automated workflows.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
      
    
  </body>
</html>