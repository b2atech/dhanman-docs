
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../budgeting_system/">
      
      
        <link rel="next" href="../rabbitmq_setup/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Water Tanker - DhanMan</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.342714a4.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/default.min.css">
    
      <link rel="stylesheet" href="../../extra.css">
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox/dist/css/glightbox.min.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#water-tanker-delivery-tracking-feature" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="DhanMan" class="md-header__button md-logo" aria-label="DhanMan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DhanMan
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Water Tanker
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="DhanMan" class="md-nav__button md-logo" aria-label="DhanMan" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    DhanMan
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting/introduction.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accounting
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../authentication-authorization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sytem Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Sytem Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dhanman_sales/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sales
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../budgeting_system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Budgeting
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Water Tanker
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Water Tanker
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Database Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-water_tanker_deliveries" class="md-nav__link">
    <span class="md-ellipsis">
      Table: water_tanker_deliveries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-wireframe-concept" class="md-nav__link">
    <span class="md-ellipsis">
      UI Wireframe Concept
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UI Wireframe Concept">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ui-notes" class="md-nav__link">
    <span class="md-ellipsis">
      UI Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reporting-billing-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Reporting &amp; Billing Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-sql-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Important SQL Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Important SQL Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-table" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-insert-multiple-deliveries-example" class="md-nav__link">
    <span class="md-ellipsis">
      2. Insert multiple deliveries (example)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-query-total-tankers-and-liters-for-a-month-per-company" class="md-nav__link">
    <span class="md-ellipsis">
      3. Query total tankers and liters for a month per company
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-query-deliveries-by-vendor-and-date-range" class="md-nav__link">
    <span class="md-ellipsis">
      4. Query deliveries by vendor and date range
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Considerations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rabbitmq_setup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    RabbitMQ Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../messging_design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Messging Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MinIO/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MinIO Setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mkdocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MKDocs
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Permissions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Permissions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../common.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Common
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../permissions/sales.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sales
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Accounting Entries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Accounting Entries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/purchase_transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Purchase Transactions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/sales_transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sales Transactions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/payroll_transactions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Payroll Transactions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/entries_others/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Other Entries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../accounting_entries/entries_samples/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample Entries
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Financial Reports
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Financial Reports
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/ledger_of_customers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ledger of Customers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/ledger_of_vendors/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ledger of Vendors
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/trial_balance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Trial Balance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/balance_sheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Balance Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/profit_and_loss_statement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Profit and Loss Statement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/cash_flow_statement/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cash Flow Statement
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/accounts_receivable_aging_report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accounts Receivable Aging Report
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/accounts%20_payable_aging_report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accounts Payable Aging Report
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../financial_reports/pending_dues_report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pending Dues Report
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Payroll
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Payroll
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../payroll/sample_templates/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Sample Templates
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../policies/office_etiquette_policy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Office Etiquette Policy
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Coding Conventions
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            Coding Conventions
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../coding_conventions/cc_principle_backend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backend
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    How Tos
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            How Tos
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/email_templates.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Email Templates
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../how-to/app-ui-structure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    App UI Structure
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Devops
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            Devops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/qa_deployment_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    DigitalOcen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/dump_restore_clean/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Data Backup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/qa_prod_deployment_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    QA-PROD
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      Summary
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functional-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Functional Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-design" class="md-nav__link">
    <span class="md-ellipsis">
      Database Design
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Design">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-water_tanker_deliveries" class="md-nav__link">
    <span class="md-ellipsis">
      Table: water_tanker_deliveries
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ui-wireframe-concept" class="md-nav__link">
    <span class="md-ellipsis">
      UI Wireframe Concept
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UI Wireframe Concept">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ui-notes" class="md-nav__link">
    <span class="md-ellipsis">
      UI Notes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reporting-billing-integration" class="md-nav__link">
    <span class="md-ellipsis">
      Reporting &amp; Billing Integration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-sql-queries" class="md-nav__link">
    <span class="md-ellipsis">
      Important SQL Queries
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Important SQL Queries">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-create-table" class="md-nav__link">
    <span class="md-ellipsis">
      1. Create table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-insert-multiple-deliveries-example" class="md-nav__link">
    <span class="md-ellipsis">
      2. Insert multiple deliveries (example)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-query-total-tankers-and-liters-for-a-month-per-company" class="md-nav__link">
    <span class="md-ellipsis">
      3. Query total tankers and liters for a month per company
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-query-deliveries-by-vendor-and-date-range" class="md-nav__link">
    <span class="md-ellipsis">
      4. Query deliveries by vendor and date range
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#additional-considerations" class="md-nav__link">
    <span class="md-ellipsis">
      Additional Considerations
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      Next Steps
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="water-tanker-delivery-tracking-feature">Water Tanker Delivery Tracking Feature<a class="headerlink" href="#water-tanker-delivery-tracking-feature" title="Permanent link">&para;</a></h1>
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>Many societies rely on external water tankers to supply water intermittently. To enable accurate billing and consumption tracking, this feature allows society managers to record each tanker delivery with essential details such as vendor, date, time, tanker capacity, and actual water received.</p>
<p>This system enables:</p>
<ul>
<li>Detailed tracking of tanker deliveries (multiple per day if needed).</li>
<li>Calculation of total water received per period for billing.</li>
<li>Reporting on tanker usage trends and vendor performance.</li>
</ul>
<hr />
<h2 id="functional-requirements">Functional Requirements<a class="headerlink" href="#functional-requirements" title="Permanent link">&para;</a></h2>
<ul>
<li>Capture vendor details linked to each tanker delivery.</li>
<li>Record date and time of each tanker delivery.</li>
<li>Log tanker capacity (expected liters) and actual liters received.</li>
<li>Support multiple tanker entries in a single form submission.</li>
<li>Provide monthly or custom period reports on number of tankers and total liters delivered.</li>
<li>Validate actual liters ≤ tanker capacity.</li>
<li>Allow editing and deletion of tanker delivery records.</li>
</ul>
<hr />
<h2 id="database-design">Database Design<a class="headerlink" href="#database-design" title="Permanent link">&para;</a></h2>
<h3 id="table-water_tanker_deliveries">Table: <code>water_tanker_deliveries</code><a class="headerlink" href="#table-water_tanker_deliveries" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Column</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td>SERIAL PRIMARY KEY</td>
<td>Unique record identifier</td>
</tr>
<tr>
<td><code>company_id</code></td>
<td>UUID NOT NULL</td>
<td>Society/organization identifier</td>
</tr>
<tr>
<td><code>vendor_id</code></td>
<td>UUID NOT NULL</td>
<td>Vendor providing the tanker</td>
</tr>
<tr>
<td><code>delivery_date</code></td>
<td>DATE NOT NULL</td>
<td>Date of tanker delivery</td>
</tr>
<tr>
<td><code>delivery_time</code></td>
<td>TIME NOT NULL</td>
<td>Time of tanker delivery</td>
</tr>
<tr>
<td><code>tanker_capacity_liters</code></td>
<td>INTEGER NOT NULL</td>
<td>Expected tanker capacity (liters)</td>
</tr>
<tr>
<td><code>actual_received_liters</code></td>
<td>INTEGER NOT NULL</td>
<td>Actual water received (liters)</td>
</tr>
<tr>
<td><code>created_by</code></td>
<td>UUID NOT NULL</td>
<td>User who created the record</td>
</tr>
<tr>
<td><code>created_on_utc</code></td>
<td>TIMESTAMP WITH TIME ZONE DEFAULT now()</td>
<td>Record creation timestamp</td>
</tr>
<tr>
<td><code>modified_by</code></td>
<td>UUID</td>
<td>Last modifier user</td>
</tr>
<tr>
<td><code>modified_on_utc</code></td>
<td>TIMESTAMP WITH TIME ZONE</td>
<td>Last modification timestamp</td>
</tr>
</tbody>
</table>
<ul>
<li><code>company_id</code> links tanker delivery to the society.</li>
<li><code>vendor_id</code> refers to existing vendor records.</li>
<li>Date and time fields capture when the delivery occurred.</li>
<li>Capacity vs actual liters allow tracking variances.</li>
</ul>
<hr />
<h2 id="ui-wireframe-concept">UI Wireframe Concept<a class="headerlink" href="#ui-wireframe-concept" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><code>--------------------------------------------------------------
| Water Tanker Delivery Entry                                 |
--------------------------------------------------------------
| Vendor: [Dropdown with search/select]                      |
|                                                            |
| ---------------------------------------------------------  |
| | Tanker Deliveries:                                   [+] |  &lt;-- Add new row button
| ---------------------------------------------------------  |
|  #  | Date       | Time      | Capacity (liters) | Actual Received (liters) | [x] |
| ---------------------------------------------------------  |
|  1  | [DatePicker] | [TimePicker] | [number input]   | [number input]           |    |
|  2  | [DatePicker] | [TimePicker] | [number input]   | [number input]           |    |
|  3  | [DatePicker] | [TimePicker] | [number input]   | [number input]           |    |
|  ...                                                      |
|                                                          |
| [ Save ]                                   [ Cancel ]    |
--------------------------------------------------------------
</code></pre></div>

<h3 id="ui-notes">UI Notes<a class="headerlink" href="#ui-notes" title="Permanent link">&para;</a></h3>
<ul>
<li>Vendor selected once per form (assumed one vendor per submission).</li>
<li>Each delivery entry has its own date, time, capacity, and actual liters.</li>
<li>Users can add multiple deliveries by clicking the <strong>[ + ]</strong> button.</li>
<li>Rows can be removed via the delete <strong>[ x ]</strong> button.</li>
<li>Validation enforces actual liters ≤ capacity.</li>
<li>After filling, the <strong>Save</strong> button submits all deliveries together.</li>
</ul>
<hr />
<h2 id="reporting-billing-integration">Reporting &amp; Billing Integration<a class="headerlink" href="#reporting-billing-integration" title="Permanent link">&para;</a></h2>
<ul>
<li>Provide reports showing tanker deliveries over a date range.</li>
<li>Calculate total number of tankers and total liters received for billing cycles.</li>
<li>Filter reports by vendor or date range.</li>
<li>Enable export of tanker delivery data for accounting.</li>
</ul>
<hr />
<h2 id="important-sql-queries">Important SQL Queries<a class="headerlink" href="#important-sql-queries" title="Permanent link">&para;</a></h2>
<h3 id="1-create-table">1. Create table<a class="headerlink" href="#1-create-table" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">water_tanker_deliveries</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">company_id</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">vendor_id</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">delivery_date</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">delivery_time</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">tanker_capacity_liters</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">actual_received_liters</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">created_by</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">created_on_utc</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">now</span><span class="p">(),</span>
<span class="w">    </span><span class="n">modified_by</span><span class="w"> </span><span class="n">UUID</span><span class="p">,</span>
<span class="w">    </span><span class="n">modified_on_utc</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">ZONE</span>
<span class="p">);</span>
</code></pre></div>

<h3 id="2-insert-multiple-deliveries-example">2. Insert multiple deliveries (example)<a class="headerlink" href="#2-insert-multiple-deliveries-example" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">water_tanker_deliveries</span>
<span class="p">(</span><span class="n">company_id</span><span class="p">,</span><span class="w"> </span><span class="n">vendor_id</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_date</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_time</span><span class="p">,</span><span class="w"> </span><span class="n">tanker_capacity_liters</span><span class="p">,</span><span class="w"> </span><span class="n">actual_received_liters</span><span class="p">,</span><span class="w"> </span><span class="n">created_by</span><span class="p">)</span>
<span class="k">VALUES</span>
<span class="p">(</span><span class="s1">&#39;company-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;vendor-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-05-20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;08:30:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w"> </span><span class="mi">14000</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user-uuid-1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;company-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;vendor-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-05-20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;15:45:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user-uuid-1&#39;</span><span class="p">);</span>
</code></pre></div>

<h3 id="3-query-total-tankers-and-liters-for-a-month-per-company">3. Query total tankers and liters for a month per company<a class="headerlink" href="#3-query-total-tankers-and-liters-for-a-month-per-company" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_tankers</span><span class="p">,</span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="n">actual_received_liters</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_liters</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">water_tanker_deliveries</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">company_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;company-uuid-1&#39;</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">delivery_date</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="s1">&#39;2025-05-01&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="s1">&#39;2025-05-31&#39;</span><span class="p">;</span>
</code></pre></div>

<h3 id="4-query-deliveries-by-vendor-and-date-range">4. Query deliveries by vendor and date range<a class="headerlink" href="#4-query-deliveries-by-vendor-and-date-range" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">delivery_date</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_time</span><span class="p">,</span><span class="w"> </span><span class="n">tanker_capacity_liters</span><span class="p">,</span><span class="w"> </span><span class="n">actual_received_liters</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">water_tanker_deliveries</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">company_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;company-uuid-1&#39;</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">vendor_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;vendor-uuid-1&#39;</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">delivery_date</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="s1">&#39;2025-05-01&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="s1">&#39;2025-05-31&#39;</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">delivery_date</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_time</span><span class="p">;</span>
</code></pre></div>

<hr />
<h2 id="additional-considerations">Additional Considerations<a class="headerlink" href="#additional-considerations" title="Permanent link">&para;</a></h2>
<ul>
<li>Allow editing and deleting tanker delivery records.</li>
<li>Optionally capture notes or attach delivery receipts/photos.</li>
<li>Support bulk import for societies that track deliveries on paper.</li>
<li>Implement notifications/reminders for entering tanker data periodically.</li>
</ul>
<hr />
<h2 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li>Implement database migration script for <code>water_tanker_deliveries</code> table.</li>
<li>Build API endpoints to create, update, list, and delete tanker delivery records.</li>
<li>Develop React form component based on the wireframe with Formik and validation.</li>
<li>Create reporting UI/dashboard for tanker deliveries and billing summary.</li>
</ul>
<hr />
<h1 id="water-tanker-delivery-apis-summary">Water Tanker Delivery APIs - Summary<a class="headerlink" href="#water-tanker-delivery-apis-summary" title="Permanent link">&para;</a></h1>
<table>
<thead>
<tr>
<th>Action</th>
<th>HTTP Method</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Create multiple tanker deliveries</td>
<td>POST</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries</code></td>
</tr>
<tr>
<td>List tanker deliveries (vendor scoped)</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries</code></td>
</tr>
<tr>
<td>List tanker deliveries (company scoped, all vendors)</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/water-tanker-deliveries</code></td>
</tr>
<tr>
<td>Get tanker delivery by ID</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/{deliveryId}</code></td>
</tr>
<tr>
<td>Update tanker delivery</td>
<td>PUT</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/{deliveryId}</code></td>
</tr>
<tr>
<td>Delete tanker delivery</td>
<td>DELETE</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/{deliveryId}</code></td>
</tr>
<tr>
<td>Monthly summary report</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/summary?year=2025&amp;month=5</code></td>
</tr>
</tbody>
</table>
<h2 id="5-api-specification-dhanman-style-urls">5. API Specification (Dhanman-Style URLs)<a class="headerlink" href="#5-api-specification-dhanman-style-urls" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>Action</th>
<th>HTTP Method</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Create multiple tanker deliveries</td>
<td>POST</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries</code></td>
</tr>
<tr>
<td>List tanker deliveries (vendor scoped)</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries</code></td>
</tr>
<tr>
<td>List tanker deliveries (company scoped, all vendors)</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/water-tanker-deliveries</code></td>
</tr>
<tr>
<td>Get tanker delivery by ID</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/{deliveryId}</code></td>
</tr>
<tr>
<td>Update tanker delivery</td>
<td>PUT</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/{deliveryId}</code></td>
</tr>
<tr>
<td>Delete tanker delivery</td>
<td>DELETE</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/{deliveryId}</code></td>
</tr>
<tr>
<td>Monthly summary report</td>
<td>GET</td>
<td><code>/api/v1/companies/{companyId}/vendors/{vendorId}/water-tanker-deliveries/summary?year=2025&amp;month=5</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="6-important-sql-queries">6. Important SQL Queries<a class="headerlink" href="#6-important-sql-queries" title="Permanent link">&para;</a></h2>
<h3 id="create-table">Create table<a class="headerlink" href="#create-table" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">water_tanker_deliveries</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="n">id</span><span class="w"> </span><span class="nb">SERIAL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="p">,</span>
<span class="w">    </span><span class="n">company_id</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">vendor_id</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">delivery_date</span><span class="w"> </span><span class="nb">DATE</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">delivery_time</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">tanker_capacity_liters</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">actual_received_liters</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">created_by</span><span class="w"> </span><span class="n">UUID</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="n">created_on_utc</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">ZONE</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="n">now</span><span class="p">(),</span>
<span class="w">    </span><span class="n">modified_by</span><span class="w"> </span><span class="n">UUID</span><span class="p">,</span>
<span class="w">    </span><span class="n">modified_on_utc</span><span class="w"> </span><span class="k">TIMESTAMP</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">TIME</span><span class="w"> </span><span class="k">ZONE</span>
<span class="p">);</span>
</code></pre></div>

<h3 id="insert-example-multiple-deliveries">Insert example (multiple deliveries)<a class="headerlink" href="#insert-example-multiple-deliveries" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">water_tanker_deliveries</span>
<span class="p">(</span><span class="n">company_id</span><span class="p">,</span><span class="w"> </span><span class="n">vendor_id</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_date</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_time</span><span class="p">,</span><span class="w"> </span><span class="n">tanker_capacity_liters</span><span class="p">,</span><span class="w"> </span><span class="n">actual_received_liters</span><span class="p">,</span><span class="w"> </span><span class="n">created_by</span><span class="p">)</span>
<span class="k">VALUES</span>
<span class="p">(</span><span class="s1">&#39;company-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;vendor-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-05-20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;08:30:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">15000</span><span class="p">,</span><span class="w"> </span><span class="mi">14000</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user-uuid-1&#39;</span><span class="p">),</span>
<span class="p">(</span><span class="s1">&#39;company-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;vendor-uuid-1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;2025-05-20&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;15:45:00&#39;</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;user-uuid-1&#39;</span><span class="p">);</span>
</code></pre></div>

<h3 id="query-total-tankers-and-liters-for-a-month-per-company">Query total tankers and liters for a month per company<a class="headerlink" href="#query-total-tankers-and-liters-for-a-month-per-company" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">SELECT</span>
<span class="w">    </span><span class="k">COUNT</span><span class="p">(</span><span class="o">*</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_tankers</span><span class="p">,</span>
<span class="w">    </span><span class="k">SUM</span><span class="p">(</span><span class="n">actual_received_liters</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="n">total_liters</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">water_tanker_deliveries</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">company_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;company-uuid-1&#39;</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">delivery_date</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="s1">&#39;2025-05-01&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="s1">&#39;2025-05-31&#39;</span><span class="p">;</span>
</code></pre></div>

<h3 id="query-deliveries-by-vendor-and-date-range">Query deliveries by vendor and date range<a class="headerlink" href="#query-deliveries-by-vendor-and-date-range" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">SELECT</span><span class="w"> </span><span class="n">delivery_date</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_time</span><span class="p">,</span><span class="w"> </span><span class="n">tanker_capacity_liters</span><span class="p">,</span><span class="w"> </span><span class="n">actual_received_liters</span>
<span class="k">FROM</span><span class="w"> </span><span class="n">water_tanker_deliveries</span>
<span class="k">WHERE</span><span class="w"> </span><span class="n">company_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;company-uuid-1&#39;</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">vendor_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;vendor-uuid-1&#39;</span>
<span class="w">  </span><span class="k">AND</span><span class="w"> </span><span class="n">delivery_date</span><span class="w"> </span><span class="k">BETWEEN</span><span class="w"> </span><span class="s1">&#39;2025-05-01&#39;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="s1">&#39;2025-05-31&#39;</span>
<span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">delivery_date</span><span class="p">,</span><span class="w"> </span><span class="n">delivery_time</span><span class="p">;</span>
</code></pre></div>

<hr />
<h2 id="7-validation-business-rules">7. Validation &amp; Business Rules<a class="headerlink" href="#7-validation-business-rules" title="Permanent link">&para;</a></h2>
<ul>
<li>Actual liters received must be ≤ tanker capacity.</li>
<li>Delivery date cannot be in the future.</li>
<li>Vendor and company IDs must be valid and authorized.</li>
<li>Required fields: vendorId, deliveryDate, deliveryTime, tankerCapacityLiters, actualReceivedLiters.</li>
<li>Prevent duplicate entries for the same vendor/date/time if needed.</li>
</ul>
<hr />
<h2 id="8-security-permissions">8. Security &amp; Permissions<a class="headerlink" href="#8-security-permissions" title="Permanent link">&para;</a></h2>
<ul>
<li>Only authorized users of the company can create/edit/delete tanker deliveries.</li>
<li>Role-based access control to restrict sensitive operations.</li>
<li>Audit trails (createdBy, modifiedBy) for accountability.</li>
</ul>
<hr />
<h2 id="9-testing-considerations">9. Testing Considerations<a class="headerlink" href="#9-testing-considerations" title="Permanent link">&para;</a></h2>
<ul>
<li>Unit tests for API endpoints (create, update, delete, list).</li>
<li>UI tests for form validations and multiple entry handling.</li>
<li>Edge case tests: invalid liters, missing fields, unauthorized access.</li>
<li>Performance tests for listing large data sets.</li>
</ul>
<hr />
<h2 id="10-deployment-migration">10. Deployment &amp; Migration<a class="headerlink" href="#10-deployment-migration" title="Permanent link">&para;</a></h2>
<ul>
<li>Include DB migration script for creating the <code>water_tanker_deliveries</code> table.</li>
<li>Version APIs appropriately.</li>
<li>Prepare rollback scripts for DB changes if necessary.</li>
</ul>
<hr />
<h2 id="11-examples-sample-data">11. Examples &amp; Sample Data<a class="headerlink" href="#11-examples-sample-data" title="Permanent link">&para;</a></h2>
<ul>
<li>Provide sample API requests and responses.</li>
<li>Use dummy data in UI for demonstration.</li>
</ul>
<hr />
<h2 id="12-faqs-troubleshooting">12. FAQs &amp; Troubleshooting<a class="headerlink" href="#12-faqs-troubleshooting" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Q: How to handle partial deliveries?<br />
  A: Record actual liters received, which can be less than capacity.</p>
</li>
<li>
<p>Q: Can vendors be added dynamically?<br />
  A: Vendor management is handled separately; ensure vendors exist before assigning.</p>
</li>
<li>
<p>Q: How to report total water usage?<br />
  A: Use the summary report API filtered by company and month.</p>
</li>
</ul>
<hr />
<h2 id="13-next-steps">13. Next Steps<a class="headerlink" href="#13-next-steps" title="Permanent link">&para;</a></h2>
<ul>
<li>Develop DB migration and seed scripts.</li>
<li>Implement REST APIs following the above spec.</li>
<li>Build React form UI using the wireframe.</li>
<li>Create reporting dashboards for management.</li>
<li>Integrate billing system with delivery data.</li>
</ul>
<hr />












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/highlight.min.js"></script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/glightbox/dist/js/glightbox.min.js"></script>
      
    
  </body>
</html>